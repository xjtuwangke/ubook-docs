<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>Xjtuwangke\Aliyun\MQS\Client | ubook docs</title>

            <link rel="stylesheet" type="text/css" href="../../../css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="../../../css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="../../../css/sami.css">
        <script src="../../../js/jquery-1.11.1.min.js"></script>
        <script src="../../../js/bootstrap.min.js"></script>
        <script src="../../../js/typeahead.min.js"></script>
        <script src="../../../sami.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    
    
    </head>

    <body id="class" data-name="class:Xjtuwangke_Aliyun_MQS_Client" data-root-path="../../../">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                <form id="search-form" action="../../../search.html" method="GET">
            <span class="glyphicon glyphicon-search"></span>
            <input name="search"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search">
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../../../index.html">ubook docs</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                    <li><a href="../../../classes.html">Classes</a></li>
                                            <li><a href="../../../namespaces.html">Namespaces</a></li>
                                        <li><a href="../../../interfaces.html">Interfaces</a></li>
                    <li><a href="../../../traits.html">Traits</a></li>
                    <li><a href="../../../doc-index.html">Index</a></li>
                    <li><a href="../../../search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                        <div class="namespace-breadcrumbs">
            <ol class="breadcrumb">
                <li><span class="label label-default">class</span></li>
                                                            <li><a href="../../../Xjtuwangke.html">Xjtuwangke</a></li>
                                        <li><a href="../../../Xjtuwangke/Aliyun.html">Aliyun</a></li>
                                        <li><a href="../../../Xjtuwangke/Aliyun/MQS.html">MQS</a></li>
    
                <li>Client</li>
            </ol>
        </div>
                <div id="page-content">
                
    <div class="page-header">
        <h1>Client</h1>
    </div>

    <p>    class
    <strong>Client</strong>        extends <a href="../../../Xjtuwangke/HttpClient/HTTPApiClient/HTTPApiClient.html"><abbr title="Xjtuwangke\HttpClient\HTTPApiClient\HTTPApiClient">HTTPApiClient</abbr></a>
</p>

            <div class="description">
            <p>Class Client</p>                    </div>
    
    
    
    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getVersion">getVersion</a>()
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"><small>from&nbsp;<a href="../../../Xjtuwangke/HttpClient/HTTPApiClient/HTTPApiClient.html#method_getVersion"><abbr title="Xjtuwangke\HttpClient\HTTPApiClient\HTTPApiClient">HTTPApiClient</abbr></a></small></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <abbr title="Symfony\Component\HttpFoundation\Response">Response</abbr>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_sendRequest">sendRequest</a>(<abbr title="Xjtuwangke\HttpClient\HTTPApiClient\Xjtuwangke\HttpClient\ClientRequests\ClientRequest">ClientRequest</abbr> $request)
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"><small>from&nbsp;<a href="../../../Xjtuwangke/HttpClient/HTTPApiClient/HTTPApiClient.html#method_sendRequest"><abbr title="Xjtuwangke\HttpClient\HTTPApiClient\HTTPApiClient">HTTPApiClient</abbr></a></small></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getAccessKey">getAccessKey</a>()
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getAccessSecret">getAccessSecret</a>()
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getQueueOwnerId">getQueueOwnerId</a>()
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getMqsUrl">getMqsUrl</a>()
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8 type">
                    <a href="#method_createQueue">createQueue</a>($queueName, <abbr title="Xjtuwangke\Aliyun\MQS\Xjtuwangke\Aliyun\MQS\QueueConfig">QueueConfig</abbr> $config = null)
                                            <p>本接口用于创建一个新的消息队列。
消息队列名称是一个不超过256个字符的字符串，必须以字母为首字符，剩余部分中可以包含字母、数字和横划线(-)组成。</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8 type">
                    <a href="#method_setQueueAttributes">setQueueAttributes</a>($queueName, <abbr title="Xjtuwangke\Aliyun\MQS\Xjtuwangke\Aliyun\MQS\QueueConfig">QueueConfig</abbr> $config = null)
                                            <p>修改消息队列的属性
DelaySeconds    发送到该Queue的所有消息默认将以DelaySeconds参数指定的秒数延后可被消费，单位为秒。   0-604800秒（7天）范围内某个整数值，默认值为0
MaximumMessageSize  发送到该Queue的消息体的最大长度，单位为byte。 1024(1K)-65536（64K）范围内的某个整数值，默认值为65536（64K）。
MessageRetentionPeriod  消息在该Queue中最长的存活时间，从发送到该队列开始经过此参数指定的时间后，不论消息是否被取出过都将被删除，单位为秒。    60 (1分钟)-1296000 (15 天)范围内某个整数值，默认值345600 (4 天)
VisibilityTimeout   消息从该Queue中取出后从Active状态变成Inactive状态后的持续时间，单位为秒。  1-43200(12小时)范围内的某个值整数值，默认为30（秒）
PollingWaitSeconds  当Queue消息量为空时，针对该Queue的ReceiveMessage请求最长的等待时间，单位为秒。 0-30秒范围内的某个整数值，默认为0（秒）</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getQueueAttributes">getQueueAttributes</a>($queueName)
                                            <p>获取消息队列的属性</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8 type">
                    <a href="#method_deleteQueue">deleteQueue</a>($queueName)
                                            <p>删除一个已创建的消息队列</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8 type">
                    <a href="#method_listQueue">listQueue</a>(string $prefix = &#039;&#039;, string $number = &#039;&#039;, string $marker = &#039;&#039;)
                                            <p>获取多个消息队列列表</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8 type">
                    <a href="#method_sendMessage">sendMessage</a>($queueName, $msgBody, int $delaySeconds, int $priority = 8)
                                            <p>发送消息到指定的消息队列
本接口用于发送消息到指定的消息队列，普通消息发送到消息队列随即可被消费者消费。
但是如果生产者发送一个消息不想马上被消费者消费（典型的使用场景为定期任务），生产者在发送消息时设置DelaySeconds参数就可以达到此目标。
发送带DelaySeconds参数值大于0的消息初始状态为Delayed，
此时消息不能被消费者消费，只有等DelaySeconds时间后消息变成Active状态后才可消费。</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <a href="../../../Xjtuwangke/Aliyun/MQS/MQSMessage.html"><abbr title="Xjtuwangke\Aliyun\MQS\MQSMessage">MQSMessage</abbr></a>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_receiveMessage">receiveMessage</a>($queue, $second = null)
                                            <p>接收指定的队列消息
本接口用于消费者消费消息队列的消息，ReceiveMessage操作会将取得的消息状态变成Inactive，
Inactive的时间长度由Queue属性VisibilityTimeout指定（详见CreateQueue接口）。
消费者在VisibilityTimeout时间内消费成功后需要调用DeleteMessage接口删除该消息，否则该消息将会被重新置为Active，
此消息又可被消费者重新消费。</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8 type">
                    <a href="#method_deleteMessage">deleteMessage</a>($queueName, $receiptHandle)
                                            <p>本接口用于删除已经被消费过的消息，消费者需将上次消费后得到的ReceiptHandle 作为参数来定位要删除的消息。
本操作只有在NextVisibleTime时刻之前执行才能成功；
如果过了NextVisibleTime时刻，消息重新变回Active状态，ReceiptHandle就会失效，删除失败，需重新消费获取新的ReceiptHandle。
删除已经被接收过的消息</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <a href="../../../Xjtuwangke/Aliyun/MQS/MQSMessage.html"><abbr title="Xjtuwangke\Aliyun\MQS\MQSMessage">MQSMessage</abbr></a>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_peekMessage">peekMessage</a>($queuename)
                                            <p>查看消息，但不改变消息状态（是否被查看或接收）
本接口用于消费者查看消息，PeekMessage与ReceiveMessage不同，
PeekMessage并不会改变消息的状态，即被PeekMessage获取消息后消息仍然处于Active状态，仍然可被查看或消费；
而后者操作成功后消息进入Inactive，在VisibilityTimeout的时间内不可被查看和消费。</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8 type">
                    <a href="#method_changeMessageVisibility">changeMessageVisibility</a>($queueName, $receiptHandle, $visibilitytimeout)
                                            <p>修改未被查看消息时间
本接口用于修改被消费过并且还处于的Inactive的消息到下次可被消费的时间，成功修改消息的VisibilityTimeout后，返回新的ReceiptHandle。</p>                </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method_getVersion">
        <div class="location">in <a href="../../../Xjtuwangke/HttpClient/HTTPApiClient/HTTPApiClient.html#method_getVersion"><abbr title="Xjtuwangke\HttpClient\HTTPApiClient\HTTPApiClient">HTTPApiClient</abbr></a> at line 83</div>
        <code>                    string
    <strong>getVersion</strong>()</code>
    </h3>
    <div class="details">
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_sendRequest">
        <div class="location">in <a href="../../../Xjtuwangke/HttpClient/HTTPApiClient/HTTPApiClient.html#method_sendRequest"><abbr title="Xjtuwangke\HttpClient\HTTPApiClient\HTTPApiClient">HTTPApiClient</abbr></a> at line 92</div>
        <code>                    <abbr title="Symfony\Component\HttpFoundation\Response">Response</abbr>
    <strong>sendRequest</strong>(<abbr title="Xjtuwangke\HttpClient\HTTPApiClient\Xjtuwangke\HttpClient\ClientRequests\ClientRequest">ClientRequest</abbr> $request)</code>
    </h3>
    <div class="details">
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><abbr title="Xjtuwangke\HttpClient\HTTPApiClient\Xjtuwangke\HttpClient\ClientRequests\ClientRequest">ClientRequest</abbr></td>
                <td>$request</td>
                <td>
</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><abbr title="Symfony\Component\HttpFoundation\Response">Response</abbr></td>
            <td>
</td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="../../../Xjtuwangke/BugSnag/Exception.html"><abbr title="Xjtuwangke\BugSnag\Exception">Exception</abbr></a></td>
                <td>
</td>
            </tr>
            </table>

            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getAccessKey">
        <div class="location">at line 38</div>
        <code>                    string
    <strong>getAccessKey</strong>()</code>
    </h3>
    <div class="details">
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getAccessSecret">
        <div class="location">at line 46</div>
        <code>                    string
    <strong>getAccessSecret</strong>()</code>
    </h3>
    <div class="details">
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getQueueOwnerId">
        <div class="location">at line 54</div>
        <code>                    string
    <strong>getQueueOwnerId</strong>()</code>
    </h3>
    <div class="details">
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getMqsUrl">
        <div class="location">at line 62</div>
        <code>                    string
    <strong>getMqsUrl</strong>()</code>
    </h3>
    <div class="details">
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_createQueue">
        <div class="location">at line 85</div>
        <code>                    array
    <strong>createQueue</strong>($queueName, <abbr title="Xjtuwangke\Aliyun\MQS\Xjtuwangke\Aliyun\MQS\QueueConfig">QueueConfig</abbr> $config = null)</code>
    </h3>
    <div class="details">
                    <div class="method-description">
                                    <p>本接口用于创建一个新的消息队列。
消息队列名称是一个不超过256个字符的字符串，必须以字母为首字符，剩余部分中可以包含字母、数字和横划线(-)组成。</p>                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$queueName</td>
                <td>
</td>
            </tr>
                    <tr>
                <td><abbr title="Xjtuwangke\Aliyun\MQS\Xjtuwangke\Aliyun\MQS\QueueConfig">QueueConfig</abbr></td>
                <td>$config</td>
                <td>
</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_setQueueAttributes">
        <div class="location">at line 109</div>
        <code>                    array
    <strong>setQueueAttributes</strong>($queueName, <abbr title="Xjtuwangke\Aliyun\MQS\Xjtuwangke\Aliyun\MQS\QueueConfig">QueueConfig</abbr> $config = null)</code>
    </h3>
    <div class="details">
                    <div class="method-description">
                                    <p>修改消息队列的属性
DelaySeconds    发送到该Queue的所有消息默认将以DelaySeconds参数指定的秒数延后可被消费，单位为秒。   0-604800秒（7天）范围内某个整数值，默认值为0
MaximumMessageSize  发送到该Queue的消息体的最大长度，单位为byte。 1024(1K)-65536（64K）范围内的某个整数值，默认值为65536（64K）。
MessageRetentionPeriod  消息在该Queue中最长的存活时间，从发送到该队列开始经过此参数指定的时间后，不论消息是否被取出过都将被删除，单位为秒。    60 (1分钟)-1296000 (15 天)范围内某个整数值，默认值345600 (4 天)
VisibilityTimeout   消息从该Queue中取出后从Active状态变成Inactive状态后的持续时间，单位为秒。  1-43200(12小时)范围内的某个值整数值，默认为30（秒）
PollingWaitSeconds  当Queue消息量为空时，针对该Queue的ReceiveMessage请求最长的等待时间，单位为秒。 0-30秒范围内的某个整数值，默认为0（秒）</p>                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$queueName</td>
                <td>
</td>
            </tr>
                    <tr>
                <td><abbr title="Xjtuwangke\Aliyun\MQS\Xjtuwangke\Aliyun\MQS\QueueConfig">QueueConfig</abbr></td>
                <td>$config</td>
                <td>
</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getQueueAttributes">
        <div class="location">at line 127</div>
        <code>                    array
    <strong>getQueueAttributes</strong>($queueName)</code>
    </h3>
    <div class="details">
                    <div class="method-description">
                                    <p>获取消息队列的属性</p>                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$queueName</td>
                <td>
</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_deleteQueue">
        <div class="location">at line 141</div>
        <code>                    array
    <strong>deleteQueue</strong>($queueName)</code>
    </h3>
    <div class="details">
                    <div class="method-description">
                                    <p>删除一个已创建的消息队列</p>                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$queueName</td>
                <td>
</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_listQueue">
        <div class="location">at line 156</div>
        <code>                    array
    <strong>listQueue</strong>(string $prefix = &#039;&#039;, string $number = &#039;&#039;, string $marker = &#039;&#039;)</code>
    </h3>
    <div class="details">
                    <div class="method-description">
                                    <p>获取多个消息队列列表</p>                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$prefix</td>
                <td>
</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$number</td>
                <td>
</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$marker</td>
                <td>
</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_sendMessage">
        <div class="location">at line 179</div>
        <code>                    array
    <strong>sendMessage</strong>($queueName, $msgBody, int $delaySeconds, int $priority = 8)</code>
    </h3>
    <div class="details">
                    <div class="method-description">
                                    <p>发送消息到指定的消息队列
本接口用于发送消息到指定的消息队列，普通消息发送到消息队列随即可被消费者消费。
但是如果生产者发送一个消息不想马上被消费者消费（典型的使用场景为定期任务），生产者在发送消息时设置DelaySeconds参数就可以达到此目标。
发送带DelaySeconds参数值大于0的消息初始状态为Delayed，
此时消息不能被消费者消费，只有等DelaySeconds时间后消息变成Active状态后才可消费。</p>                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$queueName</td>
                <td>
</td>
            </tr>
                    <tr>
                <td></td>
                <td>$msgBody</td>
                <td>
</td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$delaySeconds</td>
                <td>
</td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$priority</td>
                <td>
</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_receiveMessage">
        <div class="location">at line 214</div>
        <code>                    <a href="../../../Xjtuwangke/Aliyun/MQS/MQSMessage.html"><abbr title="Xjtuwangke\Aliyun\MQS\MQSMessage">MQSMessage</abbr></a>
    <strong>receiveMessage</strong>($queue, $second = null)</code>
    </h3>
    <div class="details">
                    <div class="method-description">
                                    <p>接收指定的队列消息
本接口用于消费者消费消息队列的消息，ReceiveMessage操作会将取得的消息状态变成Inactive，
Inactive的时间长度由Queue属性VisibilityTimeout指定（详见CreateQueue接口）。
消费者在VisibilityTimeout时间内消费成功后需要调用DeleteMessage接口删除该消息，否则该消息将会被重新置为Active，
此消息又可被消费者重新消费。</p>                    <p>Response Body 返回的结果为XML格式，返回Message消息正文及消息属性。
参数名称    说明
MessageId   消息编号，在一个Queue中唯一
ReceiptHandle   本次获取消息产生的临时句柄，用于删除和修改处于Inactive消息，NextVisibleTime之前有效。
MessageBody 消息正文
MessageBodyMD5  消息正文的MD5值
EnqueueTime 消息发送到队列的时间，从1970年1月1日0点整开始的毫秒数
NextVisibleTime 下次可被再次消费的时间，从1970年1月1日0点整开始的毫秒数
FirstDequeueTime    第一次被消费的时间，从1970年1月1日0点整开始的毫秒数
DequeueCount    总共被消费的次数
Priority    消息的优先级权值</p>            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$queue</td>
                <td>
</td>
            </tr>
                    <tr>
                <td></td>
                <td>$second</td>
                <td>如果ReceiveMessage请求附带waitseconds参数,
      则在Queue无消息时,此次ReceiveMessage请求进入到Polling等待时长为waitseconds；
      如果未设置waitseconds，
      则默认使用所属Queue的PollingWaitSeconds属性(参见CreateQueue接口)。</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><a href="../../../Xjtuwangke/Aliyun/MQS/MQSMessage.html"><abbr title="Xjtuwangke\Aliyun\MQS\MQSMessage">MQSMessage</abbr></a></td>
            <td>| null</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_deleteMessage">
        <div class="location">at line 242</div>
        <code>                    array
    <strong>deleteMessage</strong>($queueName, $receiptHandle)</code>
    </h3>
    <div class="details">
                    <div class="method-description">
                                    <p>本接口用于删除已经被消费过的消息，消费者需将上次消费后得到的ReceiptHandle 作为参数来定位要删除的消息。
本操作只有在NextVisibleTime时刻之前执行才能成功；
如果过了NextVisibleTime时刻，消息重新变回Active状态，ReceiptHandle就会失效，删除失败，需重新消费获取新的ReceiptHandle。
删除已经被接收过的消息</p>                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$queueName</td>
                <td>
</td>
            </tr>
                    <tr>
                <td></td>
                <td>$receiptHandle</td>
                <td>
</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_peekMessage">
        <div class="location">at line 258</div>
        <code>                    <a href="../../../Xjtuwangke/Aliyun/MQS/MQSMessage.html"><abbr title="Xjtuwangke\Aliyun\MQS\MQSMessage">MQSMessage</abbr></a>
    <strong>peekMessage</strong>($queuename)</code>
    </h3>
    <div class="details">
                    <div class="method-description">
                                    <p>查看消息，但不改变消息状态（是否被查看或接收）
本接口用于消费者查看消息，PeekMessage与ReceiveMessage不同，
PeekMessage并不会改变消息的状态，即被PeekMessage获取消息后消息仍然处于Active状态，仍然可被查看或消费；
而后者操作成功后消息进入Inactive，在VisibilityTimeout的时间内不可被查看和消费。</p>                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$queuename</td>
                <td>
</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><a href="../../../Xjtuwangke/Aliyun/MQS/MQSMessage.html"><abbr title="Xjtuwangke\Aliyun\MQS\MQSMessage">MQSMessage</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_changeMessageVisibility">
        <div class="location">at line 274</div>
        <code>                    array
    <strong>changeMessageVisibility</strong>($queueName, $receiptHandle, $visibilitytimeout)</code>
    </h3>
    <div class="details">
                    <div class="method-description">
                                    <p>修改未被查看消息时间
本接口用于修改被消费过并且还处于的Inactive的消息到下次可被消费的时间，成功修改消息的VisibilityTimeout后，返回新的ReceiptHandle。</p>                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$queueName</td>
                <td>
</td>
            </tr>
                    <tr>
                <td></td>
                <td>$receiptHandle</td>
                <td>
</td>
            </tr>
                    <tr>
                <td></td>
                <td>$visibilitytimeout</td>
                <td>
</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
            </div>

    
            </div>
                <div id="footer">
        Generated by <a href="http://sami.sensiolabs.org/">Sami, the API Documentation Generator</a>.
    </div>

        </div>
    </div>
    </body>

</html>
